# data_object_special: preprocessed datasets for BART-based model
This folder contains the preprocessed datasets to be fed into the BART-based model and execute all the experiments of the project.


## Download the folder
This folder ([`data_object_special`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/data_object_special)) contains the majority of the preprocessed files and they can be directly downloaded cloning this repository. However, some special data files for some experiments are too large. They can be generated using the suitable scripts detailed in [`processing_data`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/processing_data) folder, or simple by downloading the full version of this folder: [data_object_special.zip](https://drive.google.com/file/d/1LsnwUyt_ZG-e1OS-Hiud7ERvU8jpD4KA/view?usp=sharing).


## File description

- `simmc2_special_tokens.json`: list of special tokens to fine-tune BART.
- `simmc2_dials_dstc10_dev_predict.txt`: preprocessed examples of the `dev` set.
- `simmc2_dials_dstc10_dev_target.txt`: preprocessed labels (targets) of the `dev` set.
- `simmc2_dials_dstc10_devtest_predict.txt`: preprocessed examples of the `devtest` set.
- `simmc2_dials_dstc10_devtest_target.txt`: preprocessed labels (targets) of the `devtest` set.
- `simmc2_dials_dstc10_train_predict.txt`: preprocessed examples of the `train` set.
- `simmc2_dials_dstc10_train_target.txt`: preprocessed labels (targets) of the `train` set.
- `simmc2_scenes_dev.txt`: list of scenes of the `dev` set. The i-th line corresponds to the scene name of the i-th example of the `dev` set.
- `simmc2_scenes_devtest.txt`: list of scenes of the `devtest` set. The i-th line corresponds to the scene name of the i-th example of the `devtest` set.
- `simmc2_scenes_train.txt`: list of scenes of the `train` set. The i-th line corresponds to the scene name of the i-th example of the `train` set.
- `img_features.pt`: image embeddings generated using CLIP. The file contains the visual embeddings for all scenes (but the corrupted ones) and the visual embeddings for all the cropped images of the objects.
- [`masked_datasets`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/data_object_special/masked_datasets): folder that contains preprocessed `devtest` set after applying **masking** for the masking experiments. These files are generated by the script `mask_datasets.py`, located in [`processing_data`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/blob/main/models/bart_only_coref/processing_data):
    - *bboxes*: data masking bounding boxes.
    - *canonicalIDs*: data masking canonical IDs.
    - *dials*: data masking dialog history.
    - *globalIDs*: data masking global IDs.
    - *objmen*: data masking multimodal context (mentioned objects). 
- [`new_datasets`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/data_object_special/new_datasets): folder that contains the datasets forthe **cross-domain experiments**. They are generated using as **reference the partition** used for the [UNITER-based model](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/uniter_based), so the results in both models could be compared. The referece sets are located inside `new_datasets` folder in [`reference_sets`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/data_object_special/new_datasets/reference_sets):
    - `all_furniture_predict.txt`: all examples of the furniture domain from original simmc2 training and devtest sets.
    - `all_furniture_target.txt`: all labels (targets) of the furniture domain from original simmc2 training and devtest sets.
    - `devtest_only_fashion_predict.txt`: all examples of the fashion domain from original simmc2 devtest set.
    - `devtest_only_fashion_target.txt`: all labels (targets) of the fashion domain from original simmc2 devtest set.
    - `devtest_only_furniture_predict.txt`: all examples of the furniture domain from original simmc2 devtest set.
    - `devtest_only_furniture_target.txt`: all labels (targets) of the furniture domain from original simmc2 devtest set.
    - `in_domain_predict.txt`: subset of 9K fashion examples used for testing.
    - `in_domain_target.txt`: subset of 9K fashion labels (targets) used for testing.
    - `in_domain_held_out_predict.txt`: subset of 9.5K fashion examples placed a different shop not seen in `in_domain` set.
    - `in_domain_held_out_target.txt`: subset of 9.5K fashion labels (targets) placed a different shop not seen in `in_domain` set.
    - `out_of_domain_predict.txt`: subset of 9.5 K furniture examples used for testing.
    - `out_of_domain_target.txt`: subset of 9.5 K furniture label (targets) used for testing.
    - `train_seen_unseen_OOD_predict.txt`: subset of 14.6K fashion examples used for training.
    - `train_seen_unseen_OOD_target.txt`: subset of 14.6K fashion labels (targets) used for training.
- [`random_test_subset`](https://github.com/AlejandroSantorum/simmc2-Multimodal_Coreference_Resolution/tree/main/models/bart_only_coref/data_object_special/random_test_subset): folder that contains a random subset (100 random examples) of the `devtest` set. This dataset is used to **estimate the human performance** on coreference resolution.

